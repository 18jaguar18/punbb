if(function(a){function b(a){return"[object Function]"==Object.prototype.toString.call(a)}function c(a){return"[object Array]"==Object.prototype.toString.call(a)}function d(a,b){var c=/^\w+\:\/\//;return/^\/\/\/?/.test(a)?a=location.protocol+a:c.test(a)||"/"==a.charAt(0)||(a=(b||"")+a),c.test(a)?a:("/"==a.charAt(0)?r:q)+a}function e(a,b){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function f(a){for(var b=!1,c=0;c<a.scripts.length;c++)a.scripts[c].ready&&a.scripts[c].exec_trigger&&(b=!0,a.scripts[c].exec_trigger(),a.scripts[c].exec_trigger=null);return b}function g(a,b,c,d){a.onload=a.onreadystatechange=function(){a.readyState&&"complete"!=a.readyState&&"loaded"!=a.readyState||b[c]||(a.onload=a.onreadystatechange=null,d())}}function h(a){a.ready=a.finished=!0;for(var b=0;b<a.finished_listeners.length;b++)a.finished_listeners[b]();a.ready_listeners=[],a.finished_listeners=[]}function i(a,b,c,d,e){setTimeout(function(){var f,h,i=b.real_src;if("item"in s){if(!s[0])return void setTimeout(arguments.callee,25);s=s[0]}f=document.createElement("script"),b.type&&(f.type=b.type),b.charset&&(f.charset=b.charset),e?w?(c.elem=f,v?(f.preload=!0,f.onpreload=d):f.onreadystatechange=function(){"loaded"==f.readyState&&d()},f.src=i):e&&0==i.indexOf(r)&&a[l]?(h=new XMLHttpRequest,h.onreadystatechange=function(){4==h.readyState&&(h.onreadystatechange=function(){},c.text=h.responseText+"\n//@ sourceURL="+i,d())},h.open("GET",i),h.send()):(f.type="text/cache-script",g(f,c,"ready",function(){s.removeChild(f),d()}),f.src=i,s.insertBefore(f,s.firstChild)):x?(f.async=!1,g(f,c,"finished",d),f.src=i,s.insertBefore(f,s.firstChild)):(g(f,c,"finished",d),f.src=i,s.insertBefore(f,s.firstChild))},0)}function j(){function q(a,b,c){function d(){null!=e&&(e=null,h(c))}var e;A[b.src].finished||(a[n]||(A[b.src].finished=!0),e=c.elem||document.createElement("script"),b.type&&(e.type=b.type),b.charset&&(e.charset=b.charset),g(e,c,"finished",d),c.elem?c.elem=null:c.text?(e.onload=e.onreadystatechange=null,e.text=c.text):e.src=b.real_src,s.insertBefore(e,s.firstChild),c.text&&d())}function r(a,b,c,e){var f,g,j=function(){b.ready_cb(b,function(){q(a,b,f)})},k=function(){b.finished_cb(b,c)};b.src=d(b.src,a[p]),b.real_src=b.src+(a[o]?(/\?.*$/.test(b.src)?"&_":"?_")+~~(1e9*Math.random())+"=":""),A[b.src]||(A[b.src]={items:[],finished:!1}),g=A[b.src].items,a[n]||0==g.length?(f=g[g.length]={ready:!1,finished:!1,ready_listeners:[j],finished_listeners:[k]},i(a,b,f,e?function(){f.ready=!0;for(var a=0;a<f.ready_listeners.length;a++)f.ready_listeners[a]();f.ready_listeners=[]}:function(){h(f)},e)):(f=g[0],f.finished?k():f.finished_listeners.push(k))}function t(){function a(a,b){a.ready=!0,a.exec_trigger=b,g()}function d(a,b){a.ready=a.finished=!0,a.exec_trigger=null;for(var c=0;c<b.scripts.length;c++)if(!b.scripts[c].finished)return;b.finished=!0,g()}function g(){for(;n<l.length;)if(b(l[n]))try{l[n++]()}catch(a){}else{if(!l[n].finished){if(f(l[n]))continue;break}n++}n==l.length&&(o=!1,j=!1)}function h(){j&&j.scripts||l.push(j={scripts:[],finished:!0})}var i,j,k=e(v,{}),l=[],n=0,o=!1;return i={script:function(){for(var f=0;f<arguments.length;f++)!function(f,g){var l;c(f)||(g=[f]);for(var n=0;n<g.length;n++)h(),f=g[n],b(f)&&(f=f()),f&&(c(f)?(l=[].slice.call(f),l.unshift(n,1),[].splice.apply(g,l),n--):("string"==typeof f&&(f={src:f}),f=e(f,{ready:!1,ready_cb:a,finished:!1,finished_cb:d}),j.finished=!1,j.scripts.push(f),r(k,f,j,x&&o),o=!0,k[m]&&i.wait()))}(arguments[f],arguments[f]);return i},wait:function(){if(arguments.length>0){for(var a=0;a<arguments.length;a++)l.push(arguments[a]);j=l[l.length-1]}else j=!1;return g(),i}},{script:i.script,wait:i.wait,setOptions:function(a){return e(a,k),i}}}var u,v={},x=w||y,z=[],A={};return v[l]=!0,v[m]=!1,v[n]=!1,v[o]=!1,v[p]="",u={setGlobalDefaults:function(a){return e(a,v),u},setOptions:function(){return t().setOptions.apply(null,arguments)},script:function(){return t().script.apply(null,arguments)},wait:function(){return t().wait.apply(null,arguments)},queueScript:function(){return z[z.length]={type:"script",args:[].slice.call(arguments)},u},queueWait:function(){return z[z.length]={type:"wait",args:[].slice.call(arguments)},u},runQueue:function(){for(var a,b=u,c=z.length,d=c;--d>=0;)a=z.shift(),b=b[a.type].apply(null,a.args);return b},noConflict:function(){return a.$LAB=k,u},sandbox:function(){return j()}}}var k=a.$LAB,l="UseLocalXHR",m="AlwaysPreserveOrder",n="AllowDuplicates",o="CacheBust",p="BasePath",q=/^[^?#]*\//.exec(location.href)[0],r=/^\w+\:\/\/\/?[^\/]+/.exec(q)[0],s=document.head||document.getElementsByTagName("head"),t=a.opera&&"[object Opera]"==Object.prototype.toString.call(a.opera)||"MozAppearance"in document.documentElement.style,u=document.createElement("script"),v="boolean"==typeof u.preload,w=v||u.readyState&&"uninitialized"==u.readyState,x=!w&&u.async===!0,y=!w&&!x&&!t;a.$LAB=j(),function(a,b,c){null==document.readyState&&document[a]&&(document.readyState="loading",document[a](b,c=function(){document.removeEventListener(b,c,!1),document.readyState="complete"},!1))}("addEventListener","DOMContentLoaded")}(this),"undefined"==typeof PUNBB||!PUNBB)var PUNBB={};PUNBB.common=function(){"use strict";function a(a){return document.getElementById(a)}function b(a,b){if(a&&b){if(0===a.value.length&&0===b.value.length)return;if(a.value===b.value)return;var c=parseInt(b.getAttribute("maxlength"),10)||0;b.value=c>0?a.value.replace(/@.*/,"").replace(/\s/g,"").substr(0,c):a.value.replace(/@.*/,"").replace(/\s/g,"")}}var c=document.documentElement,d=!1,e=!1;return{on_domready_init:function(){d=!0,PUNBB.common.addClass(c,"js"),PUNBB.common.attachWindowOpen(),PUNBB.common.autoFocus(),PUNBB.common.attachCtrlEnterForm(),PUNBB.common.attachUsernameFromEmail(),PUNBB.common.attachEmailFieldFixer(),PUNBB.common.input_support_attr("required")||PUNBB.common.attachValidateForm();var b=a("brd-messages");b&&setTimeout(function(){b.style.visibility="hidden"},3500)},on_load_init:function(){e=!0},addLoadEvent:function(a){if(e===!0)a();else{var b=window.onload;window.onload=b&&"function"==typeof b?function(){b(),a()}:a}},addDOMReadyEvent:function(a){function b(){try{c.doScroll("left")}catch(d){return void setTimeout(b,0)}a()}var e=!1;return d===!0?void a():void(document.addEventListener?(document.addEventListener("DOMContentLoaded",function(){a(),e=!0},!1),window.addEventListener("load",function(){e||a()},!1)):window.attachEvent?window.ActiveXObject&&window===window.top?b():window.attachEvent("onload",a):PUNBB.common.addLoadEvent(a))},hasClass:function(a,b){return new RegExp("\\b"+b+"\\b").test(a.className)},addClass:function(a,b){return PUNBB.common.hasClass(a,b)?!1:(a.className+=" "+b,!0)},removeClass:function(a,b){return PUNBB.common.hasClass(a,b)?(b=new RegExp("\\s*\\b"+b+"\\b","g"),a.className=a.className.replace(b,""),!0):!1},blink:function(a,b){void 0===typeof b&&(b=2);var c=a.style.visibility;b&&"hidden"!==c&&(a.style.visibility="hidden",setTimeout(function(){a.style.visibility=c},200),setTimeout(function(){PUNBB.common.blink(a,b-1)},400))},onScreen:function(a){function b(){var a=-1;return window.pageYOffset?a=window.pageYOffset:c&&c.scrollTop?a=c.scrollTop:document.body&&(a=document.body.scrollTop),a}function d(){var a=-1;return window.innerHeight?a=window.innerHeight:c&&c.clientHeight?a=c.clientHeight:document.body&&(a=document.body.clientHeight),a}function e(a){var b=a.offsetTop;return a=a.offsetParent,a?b+=e(a):b}var f=b(),g=f+d(),h=e(a),i=h+a.clientHeight;return h>=f&&g>i},map:function(a,b){var c,d;for(c=0,d=b.length;d>c;c+=1)b[c]=a(b[c]);return b},find:function(a,b){var c,d;for(c=0,d=b.length;d>c;c+=1)if(a(b[c]))return c;return-1},arrayOfMatched:function(a,b){var c,d,e=[];for(c=0,d=b.length;d>c;c+=1)a(b[c])&&e.push(b[c]);return e},flatten:function(a){var b,c,d=[];for(b=0,c=a.length;c>b;b+=1)"object"==typeof a[b]&&a.length?d.concat(PUNBB.common.flatten(a[b])):d.push(a[b]);return d},validateForm:function(b){var c=function(a){return a.name&&0===a.name.indexOf("req_")},d=b.elements,e=PUNBB.common.arrayOfMatched(c,d);c=function(a){return/^\s*$/.test(a.value)};var f=PUNBB.common.find(c,e);if(f>-1&&PUNBB.common.find(c,e)>-1){var g=a("req-msg");PUNBB.common.removeClass(g,"req-warn");var h=PUNBB.common.addClass(g,"req-error");return PUNBB.common.onScreen(g)?h||PUNBB.common.blink(g):(g.scrollIntoView(),setTimeout(function(){PUNBB.common.blink(g)},500)),PUNBB.common.onScreen(e[f])&&e[f].focus(),!1}return!0},doQuickjumpRedirect:function(b,c){var d=a("qjump-select")[a("qjump-select").selectedIndex].value;return b=b.replace("$1",d),b=b.replace("$2",c[d]),document.location=b,!1},attachQuickjumpRedirect:function(b,c){var d=a("qjump-select"),e=a("qjump-submit");d&&(d.onchange=function(){return PUNBB.common.doQuickjumpRedirect(b,c)}),e&&(e.onclick=function(){return PUNBB.common.doQuickjumpRedirect(b,c)},PUNBB.common.addClass(e,"visual-hidden"))},initToggleCheckboxes:function(){var b,c,d=function(a){return function(){return PUNBB.common.toggleCheckboxes(a)}},e=document.getElementsByTagName("span");for(b=0,c=e.length;c>b;b+=1){var f=e[b];if(PUNBB.common.hasClass(f,"select-all")&&f.getAttribute("data-check-form")){var g=a(f.getAttribute("data-check-form"));g&&(f.onclick=d(g))}}},toggleCheckboxes:function(a){if(!a)return!1;var b,c,d=a.getElementsByTagName("input");for(b=0,c=d.length;c>b;b+=1){var e=d[b];e.getAttribute("data-no-select-all")||"checkbox"==e.getAttribute("type")&&e.disabled===!1&&(e.checked=!e.checked)}return!1},attachCtrlEnterForm:function(){var a,b,c=function(a){return function(b){b=b||window.event;var c=b.keyCode||b.which;return 13!=c&&10!=c||b.ctrlKey!==!0?void 0:a.submit()}},d=function(a){return"TEXTAREA"==a.tagName.toUpperCase()},e=document.forms;for(a=0,b=e.length;b>a;a+=1){var f=e[a];if(PUNBB.common.hasClass(f,"frm-ctrl-submit")){var g,h,i=f.elements,j=PUNBB.common.arrayOfMatched(d,i);for(g=0,h=j.length;h>g;g+=1)j[g].onkeypress=c(f)}}},attachValidateForm:function(){var a,b,c=function(a){return a.name&&0===a.name.indexOf("req_")},d=function(a){return a.type&&"submit"==a.type&&"cancel"!=a.name},e=function(a){return function(){return PUNBB.common.validateForm(a)}},f=document.forms;for(a=0,b=f.length;b>a;a+=1){var g=f[a].elements;if(PUNBB.common.find(c,g)>-1){var h=PUNBB.common.arrayOfMatched(d,g),i=f[a];h=PUNBB.common.map(function(a){a.onclick=e(i)},h)}}},attachWindowOpen:function(){if(document.getElementsByTagName){var a,b=function(){return function(){return window.open(this.href),!1}},c=document.getElementsByTagName("a");for(a=0;a<c.length;a+=1)PUNBB.common.hasClass(c[a],"exthelp")&&(c[a].onclick=b())}},autoFocus:function(){var b=function(a){return a.offsetWidth>0&&("TEXTAREA"==a.tagName.toUpperCase()||"INPUT"==a.tagName.toUpperCase()&&"text"==a.type||"password"==a.type||"email"==a.type||"url"==a.type||"number"==a.type)},c=a("afocus");if(c&&!window.location.hash.replace(/#/g,"")){c=c.all||c.getElementsByTagName("*");var d=PUNBB.common.find(b,c);d>-1&&c[d].focus()}},input_support_attr:function(a){var b=document.createElement("input");return a?!!(a in b):!1},attachUsernameFromEmail:function(){var a,c,d=function(a){return"INPUT"==a.tagName.toUpperCase()&&"email"==a.type&&"email"===a.getAttribute("data-suggest-role")},e=function(a){return"INPUT"==a.tagName.toUpperCase()&&"text"==a.type&&"username"===a.getAttribute("data-suggest-role")},f=document.forms;for(a=0,c=f.length;c>a;a+=1){var g=f[a],h=-1,i=-1;if(PUNBB.common.hasClass(g,"frm-suggest-username")&&(h=PUNBB.common.find(d,g.elements),i=PUNBB.common.find(e,g.elements),h>0&&i>0)){var j=function(a){return function(){b(this,a)}};g.elements[h].onkeyup=j(g.elements[i])}}},attachEmailFieldFixer:function(){var a,b,c=function(a){return"INPUT"==a.tagName.toUpperCase()&&"email"==a.type},d=function(){var a=this;a&&a.value.length>0&&(a.value=a.value.replace(/\s/g,""))},e=document.forms;for(a=0,b=e.length;b>a;a+=1){var f,g,h=e[a].elements,i=PUNBB.common.arrayOfMatched(c,h);for(f=0,g=i.length;g>f;f+=1)i[f].onblur=d}}}}(),PUNBB.common.addDOMReadyEvent(PUNBB.common.on_domready_init),PUNBB.common.addLoadEvent(PUNBB.common.on_load_init);