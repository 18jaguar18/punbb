/*! LAB.js (LABjs :: Loading And Blocking JavaScript)
    v2.0 (c) Kyle Simpson
    MIT License
*/
(function(W){var f=W.$LAB,j="UseLocalXHR",g="AlwaysPreserveOrder",p="AllowDuplicates",V="CacheBust",T="BasePath",R=/^[^?#]*\//.exec(location.href)[0],Q=/^\w+\:\/\/\/?[^\/]+/.exec(R)[0],X=document.head||document.getElementsByTagName("head"),e=(W.opera&&Object.prototype.toString.call(W.opera)=="[object Opera]")||("MozAppearance" in document.documentElement.style),U=document.createElement("script"),w=typeof U.preload=="boolean",S=w||(U.readyState&&U.readyState=="uninitialized"),n=!S&&U.async===true,d=!S&&!n&&!e;function m(i){return Object.prototype.toString.call(i)=="[object Function]";}function l(i){return Object.prototype.toString.call(i)=="[object Array]";}function c(o,q){var i=/^\w+\:\/\//;if(/^\/\/\/?/.test(o)){o=location.protocol+o;}else{if(!i.test(o)&&o[0]!="/"){o=(q||"")+o;}}return i.test(o)?o:((o[0]=="/"?Q:R)+o);}function x(o,q){for(var i in o){if(o.hasOwnProperty(i)){q[i]=o[i];}}return q;}function b(o){var q=false;for(var i=0;i<o.scripts.length;i++){if(o.scripts[i].ready&&o.scripts[i].exec_trigger){q=true;o.scripts[i].exec_trigger();o.scripts[i].exec_trigger=null;}}return q;}function v(o,r,i,q){o.onload=o.onreadystatechange=function(){if((o.readyState&&o.readyState!="complete"&&o.readyState!="loaded")||r[i]){return;}o.onload=o.onreadystatechange=null;q();};}function k(i){i.ready=i.finished=true;for(var o=0;o<i.finished_listeners.length;o++){setTimeout(i.finished_listeners[o],0);}i.ready_listeners=[];i.finished_listeners=[];}function a(s,q,r,o,i){setTimeout(function(){var u,y=q.real_src,t;if("item" in X){if(!X[0]){setTimeout(arguments.callee,25);return;}X=X[0];}u=document.createElement("script");if(q.type){u.type=q.type;}if(q.charset){u.charset=q.charset;}if(i){if(S){r.elem=u;if(w){u.preload=true;u.onpreload=o;}else{u.onreadystatechange=function(){if(u.readyState=="loaded"){o();}u.onreadystatechange=null;};}u.src=y;}else{if(i&&y.indexOf(Q)==0&&s[j]){t=new XMLHttpRequest();t.onreadystatechange=function(){if(t.readyState==4){t.onreadystatechange=function(){};r.text=t.responseText+"\n//@ sourceURL="+y;o();}};t.open("GET",y);t.send();}else{u.type="text/cache-script";v(u,r,"ready",function(){X.removeChild(u);o();});u.src=y;X.insertBefore(u,X.firstChild);}}}else{if(n){u.async=false;v(u,r,"finished",o);u.src=y;X.insertBefore(u,X.firstChild);}else{v(u,r,"finished",o);u.src=y;X.insertBefore(u,X.firstChild);}}},0);}function h(){var o={},t=S||d,y=[],u={},i;o[j]=true;o[g]=false;o[p]=false;o[V]=false;o[T]="";function s(A,D,z){var C;function B(){if(C!=null){k(z);C=null;}}if(u[D.src].finished){return;}if(!A[p]){u[D.src].finished=true;}C=z.elem||document.createElement("script");if(D.type){C.type=D.type;}if(D.charset){C.charset=D.charset;}v(C,z,"finished",B);if(z.elem){z.elem=null;}else{if(z.text){C.onload=C.onreadystatechange=null;C.text=z.text;}else{C.src=D.real_src;}}X.insertBefore(C,X.firstChild);if(z.text){B();}}function r(G,z,F,D){var E,C,B=function(){z.ready_cb(z,function(){s(G,z,E);});},A=function(){z.finished_cb(z,F);};z.src=c(z.src,G[T]);z.real_src=z.src+(G[V]?((/\?.*$/.test(z.src)?"&_":"?_")+~~(Math.random()*1000000000)+"="):"");if(!u[z.src]){u[z.src]={items:[],finished:false};}C=u[z.src].items;if(G[p]||C.length==0){E=C[C.length]={ready:false,finished:false,ready_listeners:[B],finished_listeners:[A]};a(G,z,E,((D)?function(){E.ready=true;for(var H=0;H<E.ready_listeners.length;H++){setTimeout(E.ready_listeners[H],0);}E.ready_listeners=[];}:function(){k(E);}),D);}else{E=C[0];if(E.finished){setTimeout(A,0);}else{E.finished_listeners.push(A);}}}function q(){var G,F=x(o,{}),E=[],D=0,I=false,C;function B(J,K){J.ready=true;J.exec_trigger=K;H();}function A(K,L){K.ready=K.finished=true;K.exec_trigger=null;for(var J=0;J<L.scripts.length;J++){if(!L.scripts[J].finished){return;}}L.finished=true;H();}function H(){while(D<E.length){if(m(E[D])){try{E[D]();}catch(J){}}else{if(!E[D].finished){if(b(E[D])){continue;}break;}}D++;}if(D==E.length){I=false;C=false;}}function z(){if(!C||!C.scripts){E.push(C={scripts:[],finished:true});}}G={script:function(){for(var J=0;J<arguments.length;J++){(function(L,N){var K;if(!l(L)){N=[L];}for(var M=0;M<N.length;M++){z();L=N[M];if(m(L)){L=L();}if(!L){continue;}if(l(L)){K=[].slice.call(L);K.push(M,1);N.splice.call(N,K);M--;continue;}if(typeof L=="string"){L={src:L};}L=x(L,{ready:false,ready_cb:B,finished:false,finished_cb:A});C.finished=false;C.scripts.push(L);r(F,L,C,(t&&I));I=true;if(F[g]){G.wait();}}})(arguments[J],arguments[J]);}return G;},wait:function(){if(arguments.length>0){for(var J=0;J<arguments.length;J++){E.push(arguments[J]);}C=E[E.length-1];}else{C=false;}H();return G;}};return{script:G.script,wait:G.wait,setOptions:function(J){x(J,F);return G;}};}i={setGlobalDefaults:function(z){x(z,o);return i;},setOptions:function(){return q().setOptions.apply(null,arguments);},script:function(){return q().script.apply(null,arguments);},wait:function(){return q().wait.apply(null,arguments);},queueScript:function(){y[y.length]={type:"script",args:[].slice.call(arguments)};
return i;},queueWait:function(){y[y.length]={type:"wait",args:[].slice.call(arguments)};return i;},runQueue:function(){var A=i,C=y.length,z=C,B;for(;--z>=0;){B=y.shift();A=A[B.type].apply(null,B.args);}return A;},noConflict:function(){W.$LAB=f;return i;},sandbox:function(){return h();}};return i;}W.$LAB=h();(function(o,q,i){if(document.readyState==null&&document[o]){document.readyState="loading";document[o](q,i=function(){document.removeEventListener(q,i,false);document.readyState="complete";},false);}})("addEventListener","DOMContentLoaded");})(this);if(typeof PUNBB==="undefined"||!PUNBB){var PUNBB={};}PUNBB.common=(function(){var d=document.documentElement,c=false,a=false;function b(e){return document.getElementById(e);}return{on_domready_init:function(){c=true;PUNBB.common.addClass(d,"js");PUNBB.common.attachWindowOpen();PUNBB.common.autoFocus();PUNBB.common.attachCtrlEnterForm();if(!PUNBB.common.input_support_attr("required")){PUNBB.common.attachValidateForm();}var e=b("brd-messages");if(e){setTimeout(function(){e.style.opacity=0;},3500);}},on_load_init:function(){a=true;},addLoadEvent:function(f){if(a===true){f();}else{var e=window.onload;window.onload=(e&&typeof e==="function")?function(){e();f();}:f;}},addDOMReadyEvent:function(g){var e=false;if(c===true){g();return;}if(document.addEventListener){document.addEventListener("DOMContentLoaded",function(){g();e=true;},false);window.addEventListener("load",function(){if(!e){g();}},false);}else{if(window.attachEvent){if(window.ActiveXObject&&window===window.top){f();}else{window.attachEvent("onload",g);}}else{PUNBB.common.addLoadEvent(g);}}function f(){try{d.doScroll("left");}catch(h){setTimeout(f,0);return;}g();}},hasClass:function(f,e){return(new RegExp("\\b"+e+"\\b")).test(f.className);},addClass:function(f,e){if(PUNBB.common.hasClass(f,e)){return false;}else{f.className+=" "+e;}return true;},removeClass:function(f,e){if(!PUNBB.common.hasClass(f,e)){return false;}e=new RegExp("\\s*\\b"+e+"\\b","g");f.className=f.className.replace(e,"");return true;},blink:function(g,f){if(typeof f===undefined){f=2;}var e=g.style.visibility;if(f&&e!=="hidden"){g.style.visibility="hidden";setTimeout(function(){g.style.visibility=e;},200);setTimeout(function(){PUNBB.common.blink(g,f-1);},400);}},onScreen:function(l){function i(){var m=-1;if(window.pageYOffset){m=window.pageYOffset;}else{if(d&&d.scrollTop){m=d.scrollTop;}else{if(document.body){m=document.body.scrollTop;}}}return m;}function h(){var m=-1;if(window.innerHeight){m=window.innerHeight;}else{if(d&&d.clientHeight){m=d.clientHeight;}else{if(document.body){m=document.body.clientHeight;}}}return m;}function f(o){var m=o.offsetTop;o=o.offsetParent;return o?m+=f(o):m;}var e=i(),k=e+h(),g=f(l),j=g+l.clientHeight;return g>=e&&j<k;},map:function(h,f){var g,e;for(g=0,e=f.length;g<e;g+=1){f[g]=h(f[g]);}return f;},find:function(h,f){var g,e;for(g=0,e=f.length;g<e;g+=1){if(h(f[g])){return g;}}return -1;},arrayOfMatched:function(j,g){var h,f,e=[];for(h=0,f=g.length;h<f;h+=1){if(j(g[h])){e.push(g[h]);}}return e;},flatten:function(f){var g,e,h=[];for(g=0,e=f.length;g<e;g+=1){if(typeof f[g]==="object"&&f.length){h.concat(PUNBB.common.flatten(f[g]));}else{h.push(f[g]);}}return h;},validateForm:function(g){var f=function(l){return l.name&&l.name.indexOf("req_")===0;};var i=g.elements,e=PUNBB.common.arrayOfMatched(f,i);f=function(l){return(/^\s*$/).test(l.value);};var h=PUNBB.common.find(f,e);if(h>-1){if(PUNBB.common.find(f,e)>-1){var k=b("req-msg");PUNBB.common.removeClass(k,"req-warn");var j=PUNBB.common.addClass(k,"req-error");if(!PUNBB.common.onScreen(k)){k.scrollIntoView();setTimeout(function(){PUNBB.common.blink(k);},500);}else{if(!j){PUNBB.common.blink(k);}}if(PUNBB.common.onScreen(e[h])){e[h].focus();}return false;}}return true;},doQuickjumpRedirect:function(g,f){var e=b("qjump-select")[b("qjump-select").selectedIndex].value;g=g.replace("$1",e);g=g.replace("$2",f[e]);document.location=g;return false;},attachQuickjumpRedirect:function(e,h){var g=b("qjump-select"),f=b("qjump-submit");if(g){g.onchange=function(){return PUNBB.common.doQuickjumpRedirect(e,h);};}if(f){f.onclick=function(){return PUNBB.common.doQuickjumpRedirect(e,h);};PUNBB.common.addClass(f,"visual-hidden");}},initToggleCheckboxes:function(){var j=function(i){return function(){return PUNBB.common.toggleCheckboxes(i);};};var f,e,k=document.getElementsByTagName("span");for(f=0,e=k.length;f<e;f+=1){var g=k[f];if(PUNBB.common.hasClass(g,"select-all")&&g.getAttribute("data-check-form")){var h=b(g.getAttribute("data-check-form"));if(h){g.onclick=j(h);}}}},toggleCheckboxes:function(h){if(!h){return false;}var f,e,j=h.getElementsByTagName("input");for(f=0,e=j.length;f<e;f+=1){var g=j[f];if(g.getAttribute("data-no-select-all")){continue;}if(g.getAttribute("type")=="checkbox"&&g.disabled===false){g.checked=!g.checked;}}return false;},attachCtrlEnterForm:function(){var q=function(f){return function(i){if(((i.keyCode==13)||(i.keyCode==10))&&(i.ctrlKey===true)){return f.submit();
}};};var m=function(f){return f.tagName.toUpperCase()=="TEXTAREA";};var l,p,g=document.forms;for(l=0,p=g.length;l<p;l+=1){var o=g[l];if(!PUNBB.common.hasClass(o,"frm-ctrl-submit")){continue;}var k,n,e=o.elements,h=PUNBB.common.arrayOfMatched(m,e);for(k=0,n=h.length;k<n;k+=1){h[k].onkeypress=q(o);}}},attachValidateForm:function(){var n=function(i){return i.name&&i.name.indexOf("req_")===0;};var k=function(i){return i.type&&(i.type=="submit"&&i.name!="cancel");};var l=function(i){return function(){return PUNBB.common.validateForm(i);};};var j,m,f=document.forms;for(j=0,m=f.length;j<m;j+=1){var e=f[j].elements;if(PUNBB.common.find(n,e)>-1){var g=PUNBB.common.arrayOfMatched(k,e),h=f[j];g=PUNBB.common.map(function(i){i.onclick=l(h);},g);}}},attachWindowOpen:function(){if(!document.getElementsByTagName){return;}var g=function(){return function(){window.open(this.href);return false;};};var f,e=document.getElementsByTagName("a");for(f=0;f<e.length;f+=1){if(PUNBB.common.hasClass(e[f],"exthelp")){e[f].onclick=g();}}},autoFocus:function(){var f=function(h){return h.tagName.toUpperCase()=="TEXTAREA"||(h.tagName.toUpperCase()=="INPUT"&&(h.type=="text")||(h.type=="password")||(h.type=="email")||(h.type=="url")||(h.type=="number"));};var e=b("afocus");if(!e||window.location.hash.replace(/#/g,"")){return;}e=e.all||e.getElementsByTagName("*");var g=PUNBB.common.find(f,e);if(g>-1){e[g].focus();}},input_support_attr:function(e){var f=document.createElement("input");if(!e){return false;}return !!(e in f);}};}());PUNBB.common.addDOMReadyEvent(PUNBB.common.on_domready_init);PUNBB.common.addLoadEvent(PUNBB.common.on_load_init);