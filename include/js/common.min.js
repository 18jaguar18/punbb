var Forum={addLoadEvent:function(b){var a=window.onload;window.onload=(a&&typeof a=="function")?function(){a();b();}:b;},hasClass:function(b,a){return(new RegExp("\\b"+a+"\\b")).test(b.className);},addClass:function(b,a){if(Forum.hasClass(b,a)){return false;}else{b.className+=" "+a;}return true;},removeClass:function(b,a){if(!Forum.hasClass(b,a)){return false;}a=new RegExp("\\s*\\b"+a+"\\b","g");b.className=b.className.replace(a,"");return true;},blink:function(c,b){if(typeof b=="undefined"){b=2;}var a=c.style.visibility;if(b&&a!="hidden"){c.style.visibility="hidden";setTimeout(function(){c.style.visibility=a;},200);setTimeout(function(){Forum.blink(c,b-1);},400);}},onScreen:function(h){function e(){var j=-1;if(self.pageYOffset){j=self.pageYOffset;}else{if(document.documentElement&&document.documentElement.scrollTop){j=document.documentElement.scrollTop;}else{if(document.body){j=document.body.scrollTop;}}}return j;}function d(){var j=-1;if(self.innerHeight){j=self.innerHeight;}else{if(document.documentElement&&document.documentElement.clientHeight){j=document.documentElement.clientHeight;}else{if(document.body){j=document.body.clientHeight;}}}return j;}function b(k){var j=k.offsetTop;k=k.offsetParent;return k?j+=b(k):j;}var a=e();var g=a+d();var c=b(h);var f=c+h.clientHeight;return c>=a&&f<g;},map:function(d,b){for(var c=0,a=b.length;c<a;c++){b[c]=d(b[c]);}return b;},find:function(d,b){for(var c=0,a=b.length;c<a;c++){if(d(b[c])){return c;}}return -1;},arrayOfMatched:function(d,b){matched=[];for(var c=0,a=b.length;c<a;c++){if(d(b[c])){matched.push(b[c]);}}return matched;},flatten:function(b){flt=[];for(var c=0,a=b.length;c<a;c++){if(typeof b[c]=="object"&&b.length){flt.concat(Forum.flatten(b[c]));alert("length1!!"+b.length);}else{flt.push(b[c]);}}return flt;},validateForm:function(c){var e=c.elements;var b=function(h){return h.name&&h.name.indexOf("req_")==0;};var a=Forum.arrayOfMatched(b,e);b=function(h){return/^\s*$/.test(h.value);};var d=Forum.find(b,a);if(d>-1){var g=document.getElementById("req-msg");Forum.removeClass(g,"req-warn");var f=Forum.addClass(g,"req-error");if(!Forum.onScreen(g)){g.scrollIntoView();setTimeout(function(){Forum.blink(g);},500);}else{if(!f){Forum.blink(g);}}if(Forum.onScreen(a[d])){a[d].focus();}return false;}return true;},doQuickjumpRedirect:function(c,b){var a=document.getElementById("qjump-select")[document.getElementById("qjump-select").selectedIndex].value;c=c.replace("$1",a);c=c.replace("$2",b[a]);document.location=c;return false;},toggleCheckboxes:function(a){var b=a.getElementsByTagName("input");for(i=0;i<b.length;i++){if(b[i].getAttribute("type")=="checkbox"&&b[i].disabled==false){b[i].checked=!b[i].checked;}}return false;},attachValidateForm:function(){var c=document.forms;for(var d=0,a=c.length;d<a;d++){var f=c[d].elements;var e=function(h){return h.name&&h.name.indexOf("req_")==0;};if(Forum.find(e,f)>-1){e=function(h){return h.type&&(h.type=="submit"&&h.name!="cancel");};var b=Forum.arrayOfMatched(e,f);var g=c[d];e=function(){return Forum.validateForm(g);};b=Forum.map(function(h){h.onclick=e;},b);}}},attachWindowOpen:function(){if(!document.getElementsByTagName){return;}var a=document.getElementsByTagName("a");for(var b=0;b<a.length;b++){if(Forum.hasClass(a[b],"exthelp")){a[b].onclick=function(){window.open(this.href);return false;};}}},autoFocus:function(){var a=document.getElementById("afocus");if(!a||window.location.hash.replace(/#/g,"")){return;}a=a.all?a.all:a.getElementsByTagName("*");var b=function(d){return d.tagName.toUpperCase()=="TEXTAREA"||(d.tagName.toUpperCase()=="INPUT"&&(d.type=="text")||(d.type=="password"));};var c=Forum.find(b,a);if(c>-1){a[c].focus();}}};Forum.addLoadEvent(Forum.attachValidateForm);Forum.addLoadEvent(Forum.attachWindowOpen);Forum.addLoadEvent(Forum.autoFocus);